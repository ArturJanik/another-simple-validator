{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/form_field.js","webpack:///./src/scripts/helpers.js","webpack:///./src/scripts/form.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","FormField","selector","_this","this","_ref","arguments","length","undefined","_ref$validators","validators","_ref$required","required","_ref$touched","touched","_ref$ignoreDefaults","ignoreDefaults","_ref$validateAutomati","validateAutomatically","errorClass","dirtyClass","cb","_classCallCheck","_defineProperty","e","target","trim","validate","updateClasses","el","classList","add","remove","valid","val","test","type","borderLength","pattern","validateEmail","currentState","validator","validatorSetting","validateLength","validateNumericality","validatePattern","console","log","concat","force","defaultValidations","includes","customValidations","checked","error","_typeof","document","querySelector","getAttribute","addEventListener","onChangeHandler","err","RadioField","_this2","_ref2","_ref2$required","_ref2$touched","_ref2$validateAutomat","forEach","getElementsByName","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","return","removeDotFromClassname","classname","cl","charAt","substr","Form","fields","submitBtn","form_classCallCheck","form_defineProperty","fieldOptions","map","f","fOptions","_objectSpread","options","fieldChangeHandler","every","isValid","disabledClass","preventDefault","onSubmit","fieldValues","resetState","createFields","submitHandler","warn","fv","field"],"mappings":"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","file":"simpleval.dist.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","class FormField {\r\n  constructor(\r\n    selector,\r\n    {\r\n      validators = {},\r\n      required = false,\r\n      touched = false,\r\n      ignoreDefaults = false,\r\n      validateAutomatically = true,\r\n      errorClass,\r\n      dirtyClass\r\n    } = {},\r\n    cb = null\r\n  ){\r\n    this.error = null;\r\n    try {\r\n      if(typeof selector !== 'string') throw(`Error: form field selector should be string - ${typeof selector} passed.`);\r\n      this.el = document.querySelector(selector);\r\n      if(!this.el) throw(`Error: element '${selector}' does not exist.`);\r\n      this.name = this.el.getAttribute('name');\r\n      this.el.addEventListener('input', this.onChangeHandler);\r\n      this.el.addEventListener('change', this.onChangeHandler);\r\n      this.type = this.el.type;\r\n      this.value = this.el.value;\r\n      this.valid = true;\r\n      this.validators = validators;\r\n      this.required = required;\r\n      this.touched = touched;\r\n      this.ignoreDefaults = ignoreDefaults;\r\n      this.validateAutomatically = validateAutomatically;\r\n      this.errorClass = errorClass;\r\n      this.dirtyClass = dirtyClass;\r\n      this.cb = cb;\r\n    } catch (err) {this.error = err}\r\n  }\r\n\r\n  get isValid () { \r\n    return ((this.touched && this.valid) || (!this.touched && !this.required));\r\n  }\r\n\r\n  onChangeHandler = e => {\r\n    this.value = e.target.value.trim();\r\n    if(!this.touched) this.touched = true;\r\n    if(this.validateAutomatically) this.validate();\r\n    this.updateClasses();\r\n    if(this.cb) this.cb();\r\n  }\r\n\r\n  updateClasses = () => {\r\n    if(this.touched){\r\n      this.el.classList.add(this.dirtyClass);\r\n    } else {\r\n      this.el.classList.remove(this.dirtyClass);\r\n    }\r\n    if(this.valid){\r\n      this.el.classList.remove(this.errorClass);\r\n    } else {\r\n      this.el.classList.add(this.errorClass);\r\n    }\r\n  }\r\n\r\n  validateEmail = val => {\r\n    const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n    return pattern.test(val);\r\n  }\r\n\r\n  validateLength = (type, borderLength) => {\r\n    if(type === 'min'){\r\n      return this.value.length >= borderLength;\r\n    }\r\n\r\n    if(type === 'max'){\r\n      return this.value.length <= borderLength;\r\n    }\r\n  }\r\n\r\n  validateNumericality = () => {\r\n    const pattern = /^[^\\D]\\d{0,9}((\\.|,)\\d{1,})?$/;\r\n    return pattern.test(this.value);\r\n  }\r\n\r\n  validatePattern = (pattern) => {\r\n    return pattern.test(this.value);\r\n  }\r\n\r\n  defaultValidations = () => {\r\n    let valid = true;\r\n    switch (this.type) {\r\n      case 'email':\r\n        valid = this.validateEmail(this.value);\r\n        return valid;\r\n      default:\r\n        return valid;\r\n    }\r\n  }\r\n\r\n  customValidations = (currentState) => {\r\n    let valid = currentState;\r\n\r\n    for (const validator in this.validators) {\r\n      const validatorSetting = this.validators[validator];\r\n\r\n      switch (validator) {\r\n        case 'minLength':\r\n          valid = this.validateLength('min', validatorSetting);\r\n          break;\r\n        case 'maxLength':\r\n          valid = this.validateLength('max', validatorSetting);\r\n          break;\r\n        case 'numerical':\r\n          valid = this.validateNumericality();\r\n          break;\r\n        case 'regex':\r\n          valid = this.validatePattern(validatorSetting);\r\n        default:\r\n          console.log(`Validator ${validator} unavailable.`);\r\n          break;\r\n      }\r\n      if(!valid) return valid;\r\n    }\r\n\r\n    return valid;\r\n  }\r\n\r\n  validate = (force = false) => {\r\n    let valid = true;\r\n\r\n    if(!this.ignoreDefaults) valid = this.defaultValidations();\r\n    if(!this.type.includes('select') && this.type !== 'checkbox') valid = this.customValidations(valid);\r\n    if(\r\n      (this.required && !this.touched) \r\n      || (this.required && this.touched && this.value === '')\r\n      || (this.type === 'checkbox' && !this.el.checked)\r\n    ) valid = false;\r\n\r\n    this.valid = valid;\r\n\r\n    if(force) {\r\n      this.updateClasses();\r\n    }\r\n  }\r\n\r\n  resetState = () => {\r\n    this.el.value = '';\r\n    this.value = '';\r\n    this.valid = true;\r\n    this.touched = false;\r\n    this.updateClasses();\r\n  }\r\n}\r\n\r\nclass RadioField {\r\n  constructor(\r\n    selector,\r\n    {\r\n      required = false,\r\n      touched = false,\r\n      validateAutomatically = true,\r\n      errorClass,\r\n      dirtyClass\r\n    } = {},\r\n    cb = null\r\n  ){\r\n    this.error = null;\r\n    try {\r\n      if(typeof selector !== 'string') throw(`Error: form field selector should be string - ${typeof selector} passed.`);\r\n      this.el = document.getElementsByName(selector);\r\n\r\n      if(this.el.length < 1) throw(`Error: passed '${selector}' is not correct radio field name.`);\r\n      this.name = this.el[0].getAttribute('name');\r\n\r\n      for (const radioBtn of this.el) {\r\n        radioBtn.addEventListener('change', this.onChangeHandler);\r\n      }\r\n\r\n      this.type = 'radio';\r\n      this.value = this.checked;\r\n      this.valid = true;\r\n      this.required = required;\r\n      this.touched = touched;\r\n      this.validateAutomatically = validateAutomatically;\r\n      this.errorClass = errorClass;\r\n      this.dirtyClass = dirtyClass;\r\n      this.cb = cb;\r\n    } catch (err) {this.error = err}\r\n  }\r\n\r\n  get checked() {\r\n    const checked = document.querySelector(`input[name=\"${this.name}\"]:checked`);\r\n    if(!checked) return null;\r\n    return checked.value;\r\n  }\r\n\r\n  get isValid () { \r\n    return (this.touched && this.checked) || !this.required;\r\n  }\r\n\r\n  onChangeHandler = e => {\r\n    this.value = this.checked;\r\n    if(!this.touched) this.touched = true;\r\n    if(this.validateAutomatically) this.validate();\r\n    this.updateClasses();\r\n    if(this.cb) this.cb();\r\n  }\r\n\r\n  updateClasses = () => {\r\n    this.el.forEach(el => el.classList.remove(this.dirtyClass));\r\n    const checked = document.querySelector(`input[name=\"${this.name}\"]:checked`);\r\n    if(checked) checked.classList.add(this.dirtyClass);\r\n\r\n    if(!this.valid) {\r\n      this.el.forEach(el => el.classList.add(this.errorClass));\r\n    } else {\r\n      this.el.forEach(el => el.classList.remove(this.errorClass));\r\n    }\r\n  }\r\n\r\n  validate = (force = false) => {\r\n    this.valid = (this.checked || !this.required) ? true : false;\r\n    if(force) this.updateClasses();\r\n  }\r\n}\r\n\r\nexport default FormField;\r\nexport { RadioField };","const removeDotFromClassname = (classname) => {\r\n  if(!classname) return null;\r\n  let cl = classname;\r\n  while(cl.charAt(0) === '.') cl = cl.substr(1);\r\n  return cl;\r\n}\r\n\r\nexport {\r\n  removeDotFromClassname\r\n}","import FormField, { RadioField } from './form_field';\r\nimport { removeDotFromClassname } from './helpers';\r\n\r\nclass Form {\r\n  constructor({fields, submitBtn, errorClass, dirtyClass}){\r\n    this.fieldOptions = fields;\r\n    this.errorClass = removeDotFromClassname(errorClass) || 'error';\r\n    this.dirtyClass = removeDotFromClassname(dirtyClass) || 'dirty';\r\n    this.fields = this.createFields();\r\n    this.submitBtn = document.querySelector(submitBtn.selector);\r\n    this.submitBtn.addEventListener('click', this.submitHandler);\r\n    this.onSubmit = submitBtn.onSubmit || (() => console.warn('Form config: No \"submitHandler\" callback option passed in your Submit button options.'));\r\n    this.disabledClass = removeDotFromClassname(submitBtn.disabledClass) || 'disabled';\r\n    this.valid = false;\r\n  }\r\n\r\n  get fieldValues() {\r\n    let fv = {};\r\n    for (const field of this.fields) {\r\n      fv = {\r\n        ...fv,\r\n        [field.name]: field.value\r\n      };\r\n    }\r\n    return fv;\r\n  }\r\n\r\n  createFields = () => this.fieldOptions.map(f => {\r\n    const fOptions = {\r\n      ...f.options,\r\n      errorClass: this.errorClass, \r\n      dirtyClass: this.dirtyClass\r\n    }\r\n\r\n    if(f.options.type === 'radio') {\r\n      return new RadioField(f.selector, fOptions, this.fieldChangeHandler)\r\n    } else {\r\n      return new FormField(f.selector, fOptions, this.fieldChangeHandler)\r\n    }\r\n  });\r\n\r\n  validate = () => this.valid = this.fields.every(f => f.isValid);\r\n\r\n  forceFieldValidation = () => this.fields.forEach(f => f.validate(true));\r\n  \r\n  updateClasses = () => {\r\n    if(this.valid){\r\n      this.submitBtn.classList.remove(this.disabledClass);\r\n    } else {\r\n      this.submitBtn.classList.add(this.disabledClass);\r\n    }\r\n  }\r\n\r\n  fieldChangeHandler = () => {\r\n    this.validate();\r\n    this.updateClasses();\r\n  }\r\n\r\n  submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if(!this.valid) return;\r\n    this.onSubmit(this.fieldValues);\r\n  }\r\n\r\n  resetState = () => {\r\n    this.valid = false;\r\n    this.fields.forEach(el => el.resetState());\r\n  }\r\n}\r\n\r\nexport default Form;"],"sourceRoot":""}